<html>
    <head>
        <title>Registro</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="logart.css" media="">
        <script>
            function validarFormulario() {
                var nombre = document.getElementById("nombre").value;
                var contrasenia = document.getElementById("contrasenia").value;
                var fecha = document.getElementById("fecha").value;
                var correo = document.getElementById("correo").value;
                var cel = document.getElementById("cel").value;
                var sexo = document.getElementsByName("sexo");
                var contraseniaExpresion = /^(?=.*\d)(?=.*[A-Z]).{8,}$/;
                var correoExpresion = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                var celExpresion = /^[0-9]{10}$/;

                if (!nombre || !contrasenia || !fecha || !correo || !cel) {
                    alert("Por favor, complete todos los campos del formulario.");
                    return false;
                }

                if (!sexo[0].checked && !sexo[1].checked &&!sexo[2].checked) {
                    alert("Por favor, seleccione una opción para el campo 'Sexo'.");
                    return false;
                }

                if (!contraseniaExpresion.test(contrasenia)) {
                    alert("La contraseña debe tener al menos 8 caracteres, 1 número y 1 letra mayúscula.");
                    return false;
                }

                if (!correoExpresion.test(correo)) {
                    alert("Por favor, ingrese un correo electrónico válido.");
                    return false;
                }

                if (!celExpresion.test(cel)) {
                    alert("Por favor, ingrese un número de teléfono válido (10 dígitos).");
                    return false;
                }

                var hoy = new Date();
                var fechaNacimientoDate = new Date(fecha);
                var edad = hoy.getFullYear() - fechaNacimientoDate.getFullYear();
                var m = hoy.getMonth() - fechaNacimientoDate.getMonth();
                if (m < 0 || (m === 0 && hoy.getDate() < fechaNacimientoDate.getDate())) {
                    edad--;
                }

                if (edad < 13) {
                    alert("Lo siento, debes tener al menos 13 años para registrarte en este sitio.");
                    return false;
                }

                return true;
            }
        </script>
    </head>
    <body>
        <h1>Registro</h1>
        <br>
        <form action="altas.jsp" method="post" name="altas" onsubmit="return validarFormulario()">
            <label for="nombre">Nombre:</label>
            <input type="text" name="nombre" id="nombre">

            <label for="contrasenia">Contraseña:</label>
            <input type="password" name="contrasenia" id="contrasenia">

            <label>Sexo:</label>
            <div class="radio-buttons">
                <input type="radio" name="sexo" id="sexo-hombre" value="Hombre">
                <label for="sexo-hombre"><span class="checkmark"> </span> Masculino</label>
                <input type="radio" name="sexo" id="sexo-mujer" value="Mujer">
                <label for="sexo-mujer"><span class="checkmark"> </span> Mujer</label>
                <input type="radio" name="sexo" id="sexo-otro" value="Otro">
                <label for="sexo-otro"><span class="checkmark"> </span> Otro</label>
            </div>

            <label for="fecha">Fecha de Nacimiento:</label>
            <input type="date" name="fecha" id="fecha">

            <label for="correo">Correo electrónico:</label>
            <input type="email" name="correo" id="correo">

            <label for="cel">Teléfono celular:</label>
            <input type="tel" name="cel" id="cel">

            <input type="submit" name="alta" value="Alta">                            
        </form>
    </body>
</html>
